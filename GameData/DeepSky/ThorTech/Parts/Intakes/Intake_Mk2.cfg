PART:NEEDS[!TheSpice]
{
	name = dstt_intakemk2
	module = Part
	author = Mallikas
	buoyancy = 0.1
	TechRequired = aerodynamicSystems
	entryCost = 8800
	cost = 780
	category = Aero
	subcategory = 0
	title = DS Voyager Mk2 Intake
	manufacturer = Deep Sky
	description = Mk2 intakes are a rare occurence and they tend to be nothing special except for looks. Well, this one actually is special. Within its hull is an upgradeable atmospheric filtration system. Unfortunately, its shape does not lend well to effective use as an ultrasonic intake.
	stackSymmetry = 1
	mass = 1.5
	CoMOffset = 0.0, -0.7, 0.0
	thermalMassModifier = 8.0
	// heatConductivity = 0.06 // half default
	emissiveConstant = 0.55
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.15
	angularDrag = 1
	crashTolerance = 30
	maxTemp = 2200 // = 3400
	skinMaxTemp = 2700
	fuelCrossFeed = True
	bulkheadProfiles = mk2,srf
	tags = aero (air breathe fligh inlet jet oxygen plane subsonic suck
	
	MODEL
	{
		model = DeepSky/ThorTech/Parts/Intakes/VoyagerIntake
		scale = 1,1,1
	}
	rescaleFactor = 1
	attachRules = 1,1,1,1,0
	node_stack_bottom01 = 0.0, -1.2704, 0.0, 0.0, -1.0, 0.0, 1
	node_attach = 0.0, -1.2704, 0.0, 0.0, -1.0, 0.0

	MODULE
	{
		name = ModuleResourceIntake
		resourceName = IntakeAir
		checkForOxygen = true
		area = 0.015
		intakeSpeed = 20
		intakeTransformName = Intake
		machCurve
		{
			key = 0 0.8
			key = 1 1
			key = 3 2
			key = 8 0.1
		}
	}
	MODULE
	{
		name = ModuleResourceIntake
		resourceName = IntakeAtm
		checkForOxygen = false
		area = 0.015
		intakeSpeed = 20
		intakeTransformName = Intake
		machCurve
		{
			key = 0 0.8
			key = 1 1
			key = 3 2
			key = 8 0.1
		}
	}
	MODULE
	{
		name = ModuleResourceIntake
		resourceName = LqdOxygen
		checkForOxygen = true
		intakeTransformName = Intake
		area = 0.015
		intakeSpeed = 20
		machCurve
		{
			key = 2.5 0
			key = 4 0.5
		}
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = dstt_LOXDistiller
				description__ = LqdOxygen
				techRequired__ = aerospaceTech
				moduleIsEnabled = true
			}
		}
	}
	
	RESOURCE
	{
		name = IntakeAir
		amount = 5
		maxAmount = 5
	}
	RESOURCE
	{
		name = IntakeAtm
		amount = 5
		maxAmount = 5
	}
	RESOURCE
	{
		name = LqdOxygen
		amount = 0
		maxAmount = 300
	}
	
	MODULE
	{
		name = ModuleResourceConverter
		AlwaysActive = true
		ConverterName = Atmosphere Distiller
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = false
		INPUT_RESOURCE
		{
			ResourceName = LqdOxygen
			Ratio = 19.47
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 5
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Oxidizer
			Ratio = 5
		}
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = dstt_LOXDistiller
				description__ = LqdOxygen to Oxidizer.
				techRequired__ = aerospaceTech
				moduleIsEnabled = true
			}
		}
	}
	
	MODULE:NEEDS[TheSpice]
	{
		name = ModuleResourceHarvester
		HarvesterType = 2
		Efficiency = 1
		airSpeedStatic = 3000
		ResourceName = SpiceGas
		ConverterName = SpiceGas Filter
		StartActionName = Start SpiceGas Filter
		StopActionName = Stop SpiceGas Filter
		ToggleActionName = Toggle SpiceGas Filter
		intakeTransformName = Intake
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 3
		}
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = dsts_SpiceDistiller
				description__ = SpiceGas
				techRequired__ = experimentalScience
				moduleIsEnabled = true
			}
		}
	}
	
	MODULE
	{
		name = ModuleAnimationGroup
		deployAnimationName = 
		activeAnimationName = 
		moduleType = Filter
	}
	
	MODULE
	{
		name = ModuleLiftingSurface
		useInternalDragModel = False
		deflectionLiftCoeff = 0.6
		dragAtMaxAoA = 0.4
		dragAtMinAoA = 0.06
	}
}
